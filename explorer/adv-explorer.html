<!DOCTYPE html>
<html lang='en'>

<head>
    <title>AthleteDataViz Explorer</title>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='shortcut icon' href='Your favicon path goes here' type='image/x-icon'>

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js'></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.1.0/mapbox-gl-geocoder.min.js'></script>

    <!-- Mapbox GL-JS CSS -->
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css' rel='stylesheet' />
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.1.0/mapbox-gl-geocoder.css' type='text/css' />
    <!-- Mapbox Assembly -->
    <link href='https://api.mapbox.com/mapbox-assembly/v0.10.1/assembly.min.css' rel='stylesheet'>
    <script async defer src='https://api.mapbox.com/mapbox-assembly/v0.10.1/assembly.js'></script>
    <link href='https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.3.0/assembly.min.css' rel='stylesheet'>
    <script src='https://api.mapbox.com/mapbox-assembly/mapbox-addon/v0.3.0/assembly.js'></script>
    <!-- Custom styles -->
    <link href='main.css' rel='stylesheet' />
</head>
<style>
.mapboxgl-ctrl.mapboxgl-ctrl-attrib {
    background-color: rgba(0, 0, 0, 0.5);
}

.mapboxgl-ctrl.mapboxgl-ctrl-attrib a {
    color: #fff;
}

#menu {
    position: absolute;
    z-index: 1;
    bottom: 30px;
    right: 10px;
}

.mapboxgl-ctrl-group {
    -webkit-filter: invert(90%);
}

.mapboxgl-ctrl-geocoder {
    -webkit-filter: invert(90%);
}
</style>

<body>
    <div class='viewport-full relative clip'>
        <div class='viewport-twothirds viewport-full-ml relative'>
            <div id='map' class='absolute top left right bottom'></div>
            <!--<nav id="menu" class="pill"></nav>-->
        </div>
        <div class='absolute top-ml left bottom z1 w-full w300-ml p12-ml'>
            <div class='viewport-third h-auto-ml hmax-full bg-darken75 round-ml shadow-darken5 scroll-auto'>
                <div class='p12 scroll-auto color-gray-light'>
                    <h1 class='txt-l txt-bold mb6'>ADV Explorer</h1>
                    <div class="py6">
                        <p>AthleteDataViz users challenge roads and trails all around the world. Explore most popular ride routes around the world. Zoom into a city to see the highest detail.</p>
                    </div>
                </div>
                <footer class='p12 bg-darken75 round-b-ml txt-s flex-parent--center-main color-gray-light'>
                    <p>Design your own experience at</p>
                    <div class="flex-parent-inline">
                        <svg class='icon icon--2 bg-lighten5'>
                            <use xlink:href='#icon-bike' /></use>
                        </svg> <a class="px12 
color-blue" target='_blank' href='https://www.athletedataviz.com'>www.AthleteDataViz.com </a>
                    </div>
                </footer>
            </div>
        </div>
    </div>
    <script>

    mapboxgl.accessToken = 'pk.eyJ1IjoicnNiYXVtYW5uIiwiYSI6ImNqMmVyajM5eDA2bDQzM3FyaHdtemVhaTUifQ.YTNMnq02RQFBy_paIu2WOQ';

    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/rsbaumann/ciotczczm0018arm7cgjwgeal',
        zoom: 0,
        center: [-70, 30],
        hash: true
    });

    //map.addControl(new mapboxgl.NavigationControl(), 'top-right');
    map.addControl(new MapboxGeocoder({
        accessToken: mapboxgl.accessToken
    }));

    // disable map rotation using right click + drag
    map.dragRotate.disable();

    // disable map rotation using touch rotation gesture
    map.touchZoomRotate.disableRotation();

    map.on('load', () => {
        map.addLayer({
            'id': '3d-buildings',
            'source': 'composite',
            'source-layer': 'building',
            'filter': ['==', 'extrude', 'true'],
            'type': 'fill-extrusion',
            'minzoom': 15,
            'paint': {
                'fill-extrusion-color': '#aaa',
                'fill-extrusion-height': {
                    'type': 'identity',
                    'property': 'height'
                },
                'fill-extrusion-base': {
                    'type': 'identity',
                    'property': 'min_height'
                },
                'fill-extrusion-opacity': .6
            }
        });
    });
    </script>
</body>

</html>
